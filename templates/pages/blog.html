{% extends 'base.html' %}
{% load static %}

{% block title %}–ë–ª–æ–≥ - PrometeyLabs | –°—Ç–∞—Ç—Ç—ñ –ø—Ä–æ –≤–µ–±-—Ä–æ–∑—Ä–æ–±–∫—É{% endblock %}

{% block description %}–ö–æ—Ä–∏—Å–Ω—ñ —Å—Ç–∞—Ç—Ç—ñ –ø—Ä–æ –≤–µ–±-—Ä–æ–∑—Ä–æ–±–∫—É, Django, JavaScript, SEO —Ç–∞ —Ü–∏—Ñ—Ä–æ–≤–∏–π –º–∞—Ä–∫–µ—Ç–∏–Ω–≥. –ï–∫—Å–ø–µ—Ä—Ç–Ω—ñ –ø–æ—Ä–∞–¥–∏ –≤—ñ–¥ –∫–æ–º–∞–Ω–¥–∏ PrometeyLabs.{% endblock %}

{% block keywords %}–±–ª–æ–≥ –≤–µ–±-—Ä–æ–∑—Ä–æ–±–∫–∞, —Å—Ç–∞—Ç—Ç—ñ Django, JavaScript —É—Ä–æ–∫–∏, SEO –ø–æ—Ä–∞–¥–∏, —Ü–∏—Ñ—Ä–æ–≤–∏–π –º–∞—Ä–∫–µ—Ç–∏–Ω–≥, PrometeyLabs{% endblock %}

{% block page_css %}
<link rel="stylesheet" href="{% static 'css/blog.css' %}">
{% endblock %}

{% block content %}
<!-- Blog Hero Section -->
<section class="blog-hero page-section" id="blog-hero">
    <div class="container">
        <div class="hero-content section-content text-center">
            <h1 class="hero-title text-primary">
                BLOG
            </h1>
            <p class="hero-subtitle">
                –ï–∫—Å–ø–µ—Ä—Ç–Ω—ñ –ø–æ—Ä–∞–¥–∏ —Ç–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ñ —Ç—Ä–µ–Ω–¥–∏ –≤–µ–±-—Ä–æ–∑—Ä–æ–±–∫–∏
            </p>
            <div class="hero-description">
                <p>
                    –î—ñ–ª—ñ—Ç—å—Å—è –Ω–∞—à–∏–º –¥–æ—Å–≤—ñ–¥–æ–º —É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ —Å—É—á–∞—Å–Ω–∏—Ö –≤–µ–±-—Ä—ñ—à–µ–Ω—å. 
                    –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∫–µ–π—Å–∏, —Ç–µ—Ö–Ω—ñ—á–Ω—ñ —Å—Ç–∞—Ç—Ç—ñ —Ç–∞ –∫–æ—Ä–∏—Å–Ω—ñ –ø–æ—Ä–∞–¥–∏ –¥–ª—è —Ä–æ–∑–≤–∏—Ç–∫—É 
                    –≤–∞—à–æ–≥–æ –±—ñ–∑–Ω–µ—Å—É –≤ —Ü–∏—Ñ—Ä–æ–≤–æ–º—É –ø—Ä–æ—Å—Ç–æ—Ä—ñ.
                </p>
            </div>
            
            <div class="blog-search-container">
                <form class="blog-search-form" method="GET" action="">
                    <div class="search-input-wrapper">
                        <input 
                            type="text" 
                            name="search" 
                            placeholder="–ü–æ—à—É–∫ —Å—Ç–∞—Ç–µ–π..." 
                            value="{{ search_query }}"
                            class="search-input"
                        >
                        <button type="submit" class="search-button" aria-label="–ü–æ—à—É–∫">
                            üîç
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- Blog Categories -->
<section class="blog-categories-section page-section" id="categories">
    <div class="container">
        <div class="section-content">
            <h2 class="section-title text-center mb-4">
                –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó <span class="text-primary">—Å—Ç–∞—Ç–µ–π</span>
            </h2>
            
            <div class="categories-grid">
                <a href="?category=web-development" class="category-card {% if selected_category == 'web-development' %}active{% endif %}">
                    <div class="category-icon">üåê</div>
                    <h3 class="category-title">–í–µ–±-—Ä–æ–∑—Ä–æ–±–∫–∞</h3>
                    <p class="category-description">Django, React, JavaScript</p>
                    <div class="category-count">{{ web_development_count }} —Å—Ç–∞—Ç–µ–π</div>
                </a>
                
                <a href="?category=telegram-bots" class="category-card {% if selected_category == 'telegram-bots' %}active{% endif %}">
                    <div class="category-icon">ü§ñ</div>
                    <h3 class="category-title">Telegram –±–æ—Ç–∏</h3>
                    <p class="category-description">–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó</p>
                    <div class="category-count">{{ telegram_bots_count }} —Å—Ç–∞—Ç–µ–π</div>
                </a>
                
                <a href="?category=courses" class="category-card {% if selected_category == 'courses' %}active{% endif %}">
                    <div class="category-icon">üéì</div>
                    <h3 class="category-title">–ö—É—Ä—Å–∏</h3>
                    <p class="category-description">–ù–∞–≤—á–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è</p>
                    <div class="category-count">{{ courses_count }} —Å—Ç–∞—Ç–µ–π</div>
                </a>
                
                <a href="?category=business" class="category-card {% if selected_category == 'business' %}active{% endif %}">
                    <div class="category-icon">üíº</div>
                    <h3 class="category-title">–ë—ñ–∑–Ω–µ—Å</h3>
                    <p class="category-description">–°—Ç—Ä–∞—Ç–µ–≥—ñ—ó —Ç–∞ –∫–µ–π—Å–∏</p>
                    <div class="category-count">{{ business_count }} —Å—Ç–∞—Ç–µ–π</div>
                </a>
                
                <a href="?category=technology" class="category-card {% if selected_category == 'technology' %}active{% endif %}">
                    <div class="category-icon">‚ö°</div>
                    <h3 class="category-title">–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó</h3>
                    <p class="category-description">–ù–æ–≤–∏–Ω–∫–∏ —Ç–∞ —Ç—Ä–µ–Ω–¥–∏</p>
                    <div class="category-count">{{ technology_count }} —Å—Ç–∞—Ç–µ–π</div>
                </a>
                
                <a href="/blog/" class="category-card {% if not selected_category %}active{% endif %}">
                    <div class="category-icon">üìö</div>
                    <h3 class="category-title">–í—Å—ñ —Å—Ç–∞—Ç—Ç—ñ</h3>
                    <p class="category-description">–ü–æ–≤–Ω–∏–π —Å–ø–∏—Å–æ–∫</p>
                    <div class="category-count">{{ total_count }} —Å—Ç–∞—Ç–µ–π</div>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Blog Articles -->
<section class="blog-articles-section page-section" id="articles">
    <div class="container">
        <div class="section-content">
            {% if selected_category %}
            <div class="section-header text-center mb-5">
                <h2 class="section-subtitle">
                    {% if selected_category == 'web-development' %}–í–µ–±-—Ä–æ–∑—Ä–æ–±–∫–∞
                    {% elif selected_category == 'telegram-bots' %}Telegram –±–æ—Ç–∏
                    {% elif selected_category == 'courses' %}–ö—É—Ä—Å–∏
                    {% elif selected_category == 'business' %}–ë—ñ–∑–Ω–µ—Å
                    {% elif selected_category == 'technology' %}–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó
                    {% endif %}
                </h2>
                <a href="/blog/" class="back-link">‚Üê –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –≤—Å—ñ—Ö —Å—Ç–∞—Ç–µ–π</a>
            </div>
            {% endif %}
            
            {% if search_query %}
            <div class="search-results-header text-center mb-5">
                <h2 class="section-subtitle">
                    –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ—à—É–∫—É: "{{ search_query }}"
                </h2>
                <p class="search-count">–ó–Ω–∞–π–¥–µ–Ω–æ {{ blog_posts.count }} —Å—Ç–∞—Ç–µ–π</p>
                <a href="/blog/" class="back-link">‚Üê –û—á–∏—Å—Ç–∏—Ç–∏ –ø–æ—à—É–∫</a>
            </div>
            {% endif %}
            
            {% if blog_posts %}
            <div class="articles-grid">
                {% for post in blog_posts %}
                <article class="article-card" data-category="{{ post.category }}">
                    <div class="article-image">
                        {% if post.featured_image %}
                        <img src="{{ post.featured_image.url }}" alt="{{ post.title }}" loading="lazy">
                        {% else %}
                        <div class="article-placeholder">
                            {% if post.category == 'web-development' %}üåê
                            {% elif post.category == 'telegram-bots' %}ü§ñ
                            {% elif post.category == 'courses' %}üéì
                            {% elif post.category == 'business' %}üíº
                            {% elif post.category == 'technology' %}‚ö°
                            {% else %}üìù{% endif %}
                        </div>
                        {% endif %}
                        <div class="article-overlay">
                            <div class="article-category">
                                {% if post.category == 'web-development' %}–í–µ–±-—Ä–æ–∑—Ä–æ–±–∫–∞
                                {% elif post.category == 'telegram-bots' %}Telegram –±–æ—Ç–∏
                                {% elif post.category == 'courses' %}–ö—É—Ä—Å–∏
                                {% elif post.category == 'business' %}–ë—ñ–∑–Ω–µ—Å
                                {% elif post.category == 'technology' %}–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    
                    <div class="article-content">
                        <div class="article-meta">
                            <time class="article-date" datetime="{{ post.created_at|date:'c' }}">
                                {{ post.created_at|date:"d.m.Y" }}
                            </time>
                            <span class="article-reading-time">
                                {{ post.reading_time }} —Ö–≤ —á–∏—Ç–∞–Ω–Ω—è
                            </span>
                        </div>
                        
                        <h3 class="article-title">
                            <a href="/blog/{{ post.slug }}/">{{ post.title }}</a>
                        </h3>
                        
                        <p class="article-excerpt">
                            {{ post.excerpt }}
                        </p>
                        
                        <div class="article-footer">
                            <a href="/blog/{{ post.slug }}/" class="read-more-link">
                                –ß–∏—Ç–∞—Ç–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é ‚Üí
                            </a>
                            
                            {% if post.keywords %}
                            <div class="article-tags">
                                {% for keyword in post.keywords|slice:":3" %}
                                <span class="tag">{{ keyword|title }}</span>
                                {% endfor %}
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </article>
                {% endfor %}
            </div>
            
            <!-- Pagination -->
            {% if is_paginated %}
            <div class="pagination-container">
                <nav class="pagination" aria-label="–ù–∞–≤—ñ–≥–∞—Ü—ñ—è –ø–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö">
                    {% if page_obj.has_previous %}
                    <a href="?page={{ page_obj.previous_page_number }}{% if search_query %}&search={{ search_query }}{% endif %}{% if selected_category %}&category={{ selected_category }}{% endif %}" 
                       class="pagination-link pagination-prev">
                        ‚Üê –ü–æ–ø–µ—Ä–µ–¥–Ω—è
                    </a>
                    {% endif %}
                    
                    <div class="pagination-info">
                        –°—Ç–æ—Ä—ñ–Ω–∫–∞ {{ page_obj.number }} –∑ {{ page_obj.paginator.num_pages }}
                    </div>
                    
                    {% if page_obj.has_next %}
                    <a href="?page={{ page_obj.next_page_number }}{% if search_query %}&search={{ search_query }}{% endif %}{% if selected_category %}&category={{ selected_category }}{% endif %}" 
                       class="pagination-link pagination-next">
                        –ù–∞—Å—Ç—É–ø–Ω–∞ ‚Üí
                    </a>
                    {% endif %}
                </nav>
            </div>
            {% endif %}
            
            {% else %}
            <div class="no-results">
                <div class="no-results-icon">üìù</div>
                <h3 class="no-results-title">
                    {% if search_query %}
                    –ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
                    {% else %}
                    –°—Ç–∞—Ç—Ç—ñ —Å–∫–æ—Ä–æ –∑'—è–≤–ª—è—Ç—å—Å—è
                    {% endif %}
                </h3>
                <p class="no-results-description">
                    {% if search_query %}
                    –°–ø—Ä–æ–±—É–π—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏ –ø–æ—à—É–∫–æ–≤–∏–π –∑–∞–ø–∏—Ç –∞–±–æ –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ —Å—Ç–∞—Ç—Ç—ñ
                    {% else %}
                    –ú–∏ –ø—Ä–∞—Ü—é—î–º–æ –Ω–∞–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º –∫–æ—Ä–∏—Å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É –¥–ª—è –≤–∞—Å
                    {% endif %}
                </p>
                <a href="/blog/" class="btn btn-primary">
                    {% if search_query %}–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ —Å—Ç–∞—Ç—Ç—ñ{% else %}–°–ø–æ–≤—ñ—Å—Ç–∏—Ç–∏ –ø—Ä–æ –Ω–æ–≤—ñ —Å—Ç–∞—Ç—Ç—ñ{% endif %}
                </a>
            </div>
            {% endif %}
        </div>
    </div>
</section>

<!-- Newsletter Subscription -->
<section class="newsletter-section page-section" id="newsletter">
    <div class="container">
        <div class="section-content text-center">
            <h2 class="newsletter-title">
                –ü—ñ–¥–ø–∏—à—ñ—Ç—å—Å—è –Ω–∞ –Ω–∞—à—ñ <span class="text-primary">–æ–Ω–æ–≤–ª–µ–Ω–Ω—è</span>
            </h2>
            <p class="newsletter-description">
                –û—Ç—Ä–∏–º—É–π—Ç–µ –Ω–æ–≤—ñ —Å—Ç–∞—Ç—Ç—ñ —Ç–∞ –∫–æ—Ä–∏—Å–Ω—ñ –ø–æ—Ä–∞–¥–∏ –ø—Ä—è–º–æ –Ω–∞ –ø–æ—à—Ç—É
            </p>
            
            <form class="newsletter-form" data-ajax="true" action="/forms/submit/" method="POST">
                {% csrf_token %}
                <input type="hidden" name="form_type" value="newsletter">
                
                <div class="newsletter-input-group">
                    <input 
                        type="email" 
                        name="email" 
                        placeholder="–í–∞—à email" 
                        required
                        class="newsletter-input"
                    >
                    <button type="submit" class="newsletter-button btn btn-primary">
                        –ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è
                    </button>
                </div>
                
                <p class="newsletter-privacy">
                    –ù–∞—Ç–∏—Å–∫–∞—é—á–∏ "–ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è", –≤–∏ –ø–æ–≥–æ–¥–∂—É—î—Ç–µ—Å—å –∑ –æ–±—Ä–æ–±–∫–æ—é –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö
                </p>
            </form>
        </div>
    </div>
</section>

<!-- Related Links -->
<section class="related-links-section page-section" id="related">
    <div class="container">
        <div class="section-content">
            <h2 class="section-title text-center mb-5">
                –ú–æ–∂–ª–∏–≤–æ –≤–∞—Å <span class="text-primary">–∑–∞—Ü—ñ–∫–∞–≤–∏—Ç—å</span>
            </h2>
            
            <div class="related-links-grid">
                <a href="/portfolio/" class="related-link-card">
                    <div class="related-icon">üíº</div>
                    <h3>–ù–∞—à—ñ –ø—Ä–æ–µ–∫—Ç–∏</h3>
                    <p>–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ø–æ—Ä—Ç—Ñ–æ–ª—ñ–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö —Ä—ñ—à–µ–Ω—å</p>
                </a>
                
                <a href="/calculator/" class="related-link-card">
                    <div class="related-icon">üí∞</div>
                    <h3>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤–∞—Ä—Ç–æ—Å—Ç—ñ</h3>
                    <p>–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ –≤–∞—Ä—Ç—ñ—Å—Ç—å –≤–∞—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É</p>
                </a>
                
                <a href="/developer/" class="related-link-card">
                    <div class="related-icon">üéì</div>
                    <h3>–ù–∞–≤—á–∞–Ω–Ω—è</h3>
                    <p>–ö—É—Ä—Å–∏ –≤–µ–±-—Ä–æ–∑—Ä–æ–±–∫–∏ —Ç–∞ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è</p>
                </a>
                
                <a href="/contacts/" class="related-link-card">
                    <div class="related-icon">üìû</div>
                    <h3>–ó–≤'—è–∑–∞—Ç–∏—Å—è</h3>
                    <p>–û–±–≥–æ–≤–æ—Ä–∏—Ç–∏ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –∑ –Ω–∞—à–æ—é –∫–æ–º–∞–Ω–¥–æ—é</p>
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/blog.js' %}"></script>
{% endblock %}