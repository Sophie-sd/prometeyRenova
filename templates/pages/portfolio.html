{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Портфоліо - Prometey" %}{% endblock %}
{% block description %}{% trans "Наше портфоліо веб-сайтів під ключ. Приклади сучасних веб-рішень для різних сфер бізнесу." %}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/portfolio.css' %}">
<!-- Preload критичних ресурсів -->
<link rel="preload" href="{% static 'videos/desktop/portfolio.mp4' %}" as="video" type="video/mp4"
    media="(min-width: 768px)">
<link rel="preload" href="{% static 'videos/mobile/portfoliomobile.mp4' %}" as="video" type="video/mp4"
    media="(max-width: 767px)">
{% endblock %}

{% block content %}
<!-- Hero секція -->
<section class="portfolio-hero">
    <div class="hero-bg-video">
        <video autoplay muted loop playsinline preload="auto" class="hero-video desktop-hero-video">
            <source src="{% static 'videos/desktop/portfolio.mp4' %}" type="video/mp4">
        </video>
        <video autoplay muted loop playsinline preload="auto" class="hero-video mobile-hero-video">
            <source src="{% static 'videos/mobile/portfoliomobile.mp4' %}" type="video/mp4">
        </video>
        <div class="video-overlay"></div>
    </div>
    <div class="hero-content">
        <h1 class="hero-title">{% trans "СТВОРЕНІ НАМИ" %} <span class="highlight orange">{% trans "САЙТИ ПІД КЛЮЧ" %}</span></h1>
        <p class="hero-description">{% trans "Приклади наших робіт - сучасні веб-рішення для різних сфер бізнесу" %}</p>
    </div>
</section>

<!-- Проектні секції -->
<section class="portfolio-projects">
    <!-- PROJECT 01 - DoUIT -->
    <div class="project-section" data-project="1">
        <div class="project-content">
            <div class="project-video">
                <video muted loop playsinline preload="none" class="desktop-video lazy-video"
                    data-src="{% static 'videos/projects/desktop/douit.mp4' %}">
                    <source data-src="{% static 'videos/projects/desktop/douit.mp4' %}" type="video/mp4">
                </video>
                <video muted loop playsinline preload="none" class="mobile-video lazy-video"
                    data-src="{% static 'videos/projects/mobile/douit_mb.mp4' %}">
                    <source data-src="{% static 'videos/projects/mobile/douit_mb.mp4' %}" type="video/mp4">
                </video>
            </div>
            <div class="project-info">
                <h2 class="project-title">PROJECT 01</h2>
                <button class="project-button" data-project="douit">Замовити подібний</button>
            </div>
        </div>
    </div>

    <!-- PROJECT 02 - Framejorney -->
    <div class="project-section" data-project="2">
        <div class="project-content">
            <div class="project-video">
                <video muted loop playsinline preload="none" class="desktop-video lazy-video"
                    data-src="{% static 'videos/projects/desktop/framejorney.mp4' %}">
                    <source data-src="{% static 'videos/projects/desktop/framejorney.mp4' %}" type="video/mp4">
                </video>
                <video muted loop playsinline preload="none" class="mobile-video lazy-video"
                    data-src="{% static 'videos/projects/mobile/framejorney_mb.mp4' %}">
                    <source data-src="{% static 'videos/projects/mobile/framejorney_mb.mp4' %}" type="video/mp4">
                </video>
            </div>
            <div class="project-info">
                <h2 class="project-title">PROJECT 02</h2>
                <button class="project-button" data-project="framejorney">Замовити подібний</button>
            </div>
        </div>
    </div>

    <!-- PROJECT 03 - Guide White Energy -->
    <div class="project-section" data-project="3">
        <div class="project-content">
            <div class="project-video">
                <video muted loop playsinline preload="none" class="desktop-video lazy-video"
                    data-src="{% static 'videos/projects/desktop/guide.mp4' %}">
                    <source data-src="{% static 'videos/projects/desktop/guide.mp4' %}" type="video/mp4">
                </video>
                <video muted loop playsinline preload="none" class="mobile-video lazy-video"
                    data-src="{% static 'videos/projects/mobile/guidewhitenergy_mb.mp4' %}">
                    <source data-src="{% static 'videos/projects/mobile/guidewhitenergy_mb.mp4' %}" type="video/mp4">
                </video>
            </div>
            <div class="project-info">
                <h2 class="project-title">PROJECT 03</h2>
                <button class="project-button" data-project="guide">Замовити подібний</button>
            </div>
        </div>
    </div>

    <!-- PROJECT 04 - Polygraph -->
    <div class="project-section" data-project="4">
        <div class="project-content">
            <div class="project-video">
                <video muted loop playsinline preload="none" class="desktop-video lazy-video"
                    data-src="{% static 'videos/projects/desktop/polygraph.mp4' %}">
                    <source data-src="{% static 'videos/projects/desktop/polygraph.mp4' %}" type="video/mp4">
                </video>
                <video muted loop playsinline preload="none" class="mobile-video lazy-video"
                    data-src="{% static 'videos/projects/mobile/polygraph_mb.mp4' %}">
                    <source data-src="{% static 'videos/projects/mobile/polygraph_mb.mp4' %}" type="video/mp4">
                </video>
            </div>
            <div class="project-info">
                <h2 class="project-title">PROJECT 04</h2>
                <button class="project-button" data-project="polygraph">Замовити подібний</button>
            </div>
        </div>
    </div>

    <!-- PROJECT 05 - PrometeyLabs -->
    <div class="project-section" data-project="5">
        <div class="project-content">
            <div class="project-video">
                <video muted loop playsinline preload="none" class="desktop-video lazy-video"
                    data-src="{% static 'videos/projects/desktop/prometeylabs.mp4' %}">
                    <source data-src="{% static 'videos/projects/desktop/prometeylabs.mp4' %}" type="video/mp4">
                </video>
                <video muted loop playsinline preload="none" class="mobile-video lazy-video"
                    data-src="{% static 'videos/projects/mobile/prometeylabs_mb.mp4' %}">
                    <source data-src="{% static 'videos/projects/mobile/prometeylabs_mb.mp4' %}" type="video/mp4">
                </video>
            </div>
            <div class="project-info">
                <h2 class="project-title">PROJECT 05</h2>
                <button class="project-button" data-project="prometeylabs">Замовити подібний</button>
            </div>
        </div>
    </div>

    <!-- PROJECT 06 - Pulvas Shop -->
    <div class="project-section" data-project="6">
        <div class="project-content">
            <div class="project-video">
                <video muted loop playsinline preload="none" class="desktop-video lazy-video"
                    data-src="{% static 'videos/projects/desktop/pulvas.mp4' %}">
                    <source data-src="{% static 'videos/projects/desktop/pulvas.mp4' %}" type="video/mp4">
                </video>
                <video muted loop playsinline preload="none" class="mobile-video lazy-video"
                    data-src="{% static 'videos/projects/mobile/pulvasshop_mb.mp4' %}">
                    <source data-src="{% static 'videos/projects/mobile/pulvasshop_mb.mp4' %}" type="video/mp4">
                </video>
            </div>
            <div class="project-info">
                <h2 class="project-title">PROJECT 06</h2>
                <button class="project-button" data-project="pulvas">Замовити подібний</button>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<!-- Відключити VideoSystem для портфоліо - у нас власна відео логіка -->
<script>
    window.VideoSystemDisabled = true;
    console.log('Portfolio: VideoSystem disabled for custom lazy loading');
</script>
<script src="{% static 'js/portfolio.js' %}" defer></script>
{% endblock %}